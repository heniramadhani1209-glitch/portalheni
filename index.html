<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal SMA Negeri 1 Dramaga</title>
<style>
/* --- GLOBAL RESET & BASE STYLES --- */
* {margin: 0; padding: 0; box-sizing: border-box;}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #0f172a;
    min-height: 100vh;
    overflow-x: hidden;
    padding-top: 70px; /* Tambahkan padding ini agar konten tidak tertutup header fixed */
}

/* Animated Background */
.bg-animation {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: -1;
    background: linear-gradient(135deg, #ffffff 0%, #6495ED 50%, #4169E1 100%);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
}
@keyframes gradientShift {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
}

.bg-animation::before {
    content: '';
    position: absolute;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: movePattern 20s linear infinite;
}

@keyframes movePattern {
    0% {transform: translate(0, 0);}
    100% {transform: translate(50px, 50px);}
}

/* Auth Modal (Gaya tidak diubah) */
.auth-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    padding: 20px;
}
/* ... (Gaya Auth Modal lainnya) ... */
.auth-container {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    padding: 50px 40px;
    border-radius: 30px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.4);
    max-width: 450px;
    width: 100%;
    animation: slideUp 0.6s ease;
}

@keyframes slideUp {
    from {opacity: 0; transform: translateY(30px);}
    to {opacity: 1; transform: translateY(0);}
}

.auth-logo {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    margin: 0 auto 20px;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% {transform: translateY(0);}
    50% {transform: translateY(-10px);}
}

.auth-header h2 {
    color: #1e293b;
    margin-bottom: 10px;
    font-size: 32px;
    text-align: center;
}

.auth-header p {
    color: #64748b;
    font-size: 14px;
    text-align: center;
}

form {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-top: 30px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

label {
    font-weight: 600;
    color: #334155;
    font-size: 14px;
}

input, select, textarea {
    padding: 14px 18px;
    border-radius: 12px;
    border: 2px solid #e2e8f0;
    font-size: 15px;
    transition: all 0.3s;
    background: white;
}

input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
}

button[type="submit"] {
    padding: 14px;
    border: none;
    border-radius: 12px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    cursor: pointer;
    font-weight: 600;
    font-size: 16px;
    transition: all 0.3s;
    margin-top: 10px;
}

button[type="submit"]:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
}

.auth-footer {
    text-align: center;
    margin-top: 25px;
    color: #64748b;
    font-size: 14px;
}

.auth-footer a {
    color: #667eea;
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s;
    cursor: pointer;
}

.auth-footer a:hover {
    color: #764ba2;
}


/* --- FLOATING HEADER (RESPONSIVE) --- */
.floating-header {
    position: fixed; 
    top: 0;
    left: 0;
    width: 100%;
    
    display: flex;
    align-items: center;
    justify-content: space-between;
    
    padding: 10px 5%; 
    background-color: #ffffff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    z-index: 1000; 
    font-family: 'Roboto', Arial, sans-serif;
    min-height: 60px; /* Tinggi minimum yang konsisten */
}

/* Logo/Gambar */
.floating-header img {
    height: 40px; 
    width: auto;
    margin-right: 15px; 
}

/* Tombol Hamburger (Hanya terlihat di Mobile) */
.menu-toggle {
    display: none; /* Default tersembunyi */
    font-size: 1.5em;
    background: none;
    border: none;
    cursor: pointer;
    color: #1e293b;
    margin-left: 15px;
    order: 3; /* Posisikan dekat User Section di mobile */
}

/* Nav Menu (Desktop/Tablet) */
.nav-menu {
    display: flex;
    gap: 25px;
    list-style: none; /* Jika di HTML-nya <ul>, ini berlaku */
    flex-grow: 1; /* Biarkan menu mengisi ruang di tengah */
    justify-content: center; /* Posisikan tautan di tengah header */
    margin: 0 30px;
}

.nav-menu a {
    color: #1e293b;
    text-decoration: none;
    font-weight: 600;
    font-size: 14px;
    transition: color 0.3s;
    position: relative;
    padding: 10px 0;
    display: block; /* Agar padding vertikal bekerja */
}

.nav-menu a::after {
    content: '';
    position: absolute;
    bottom: 0px; /* Sesuaikan posisi garis bawah */
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    transition: width 0.3s;
}

.nav-menu a:hover {
    color: #667eea;
}

.nav-menu a:hover::after {
    width: 100%;
}

/* User Section */
.user-section {
    display: flex;
    align-items: center;
    gap: 15px;
    padding-left: 20px;
    border-left: 2px solid #e2e8f0;
    flex-shrink: 0; /* Pastikan ini tidak menyusut */
}

.user-badge {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    padding: 6px 15px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

.admin-btn, .logout-btn {
    padding: 8px 20px;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    font-size: 13px;
    transition: all 0.3s;
    
    /* Hapus posisi absolut yang tidak perlu, biarkan flexbox yang mengatur */
    opacity: 1; 
    position: static; 
}

.admin-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.admin-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}

.logout-btn {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
}

.logout-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(239, 68, 68, 0.4);
}

/* --- MOBILE LAYOUT (max-width: 768px) --- */
@media (max-width: 767px) {
    /* Header Mobile: Fokus pada Logo, Hamburger, dan Tombol User */
    .floating-header {
        flex-wrap: nowrap; /* Jangan memecah ke baris baru */
        justify-content: space-between;
        padding: 10px 5%;
    }
    
    .menu-toggle {
        display: block; /* Tampilkan tombol hamburger */
    }
    
    /* Sembunyikan navigasi default di mobile */
    .nav-menu {
        display: none; 
        position: absolute;
        top: 60px; /* Tempatkan di bawah header */
        left: 0;
        width: 100%;
        flex-direction: column;
        background-color: #ffffff;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        z-index: 990;
        margin: 0; /* Hapus margin tengah */
        padding: 10px 0;
    }

    /* Kelas yang harus ditambahkan dengan JavaScript saat menu dibuka */
    .nav-menu.open {
        display: flex;
    }

    .nav-menu a {
        padding: 12px 5%;
        border-bottom: 1px solid #eee;
    }
    
    .nav-menu a:last-child {
        border-bottom: none;
    }

    /* Pindahkan user section ke samping di mobile jika memungkinkan */
    .user-section {
        padding-left: 10px;
        border-left: none; /* Hapus garis pemisah */
        gap: 8px;
    }
    
    /* Tombol Admin/Logout lebih kecil di mobile */
    .admin-btn, .logout-btn {
        padding: 6px 12px;
        font-size: 12px;
    }
    
    /* Tata letak konten mobile di media query Anda */
    .hero-title {
        font-size: 42px;
    }

    .hero-subtitle {
        font-size: 18px;
    }

    .section-title {
        font-size: 36px;
    }

    .two-column, .three-column {
        grid-template-columns: 1fr;
    }

    .content-box {
        padding: 30px;
    }

    .info-grid, .contact-grid, .feature-list {
        grid-template-columns: 1fr;
    }

    .hero-buttons {
        flex-direction: column;
    }

    .btn-primary, .btn-secondary {
        width: 100%;
    }
    
    /* Mobile Visi Misi */
    #visi-misi {
        padding: 40px 5vw;
    }

    #visi-misi-flex-wrapper {
        flex-direction: column;
        gap: 25px;
    }

    .nilai-list {
        grid-template-columns: 1fr;
    }

    .nilai-list::before {
        font-size: 1.5em;
        margin-bottom: 25px;
    }
}
/* ... (lanjutkan gaya lainnya di luar media query) ... */


/* Main Dashboard */
.main-wrapper {
    background: transparent;
}

@keyframes slideDown {
    from {opacity: 0; transform: translateX(-50%) translateY(-20px);}
    to {opacity: 1; transform: translateX(-50%) translateY(0);}
}

/* Header Logo (Jika menggunakan div/ikon) - Dihapus karena Anda menggunakan img */
/* .header-logo { ... } */


/* Hero Section */
.hero-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 120px 20px 60px;
    position: relative;
}

.hero-content {
    max-width: 900px;
    animation: fadeIn 1s ease;
}

@keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
}

.hero-badge {
    display: inline-block;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    color: white;
    padding: 10px 25px;
    border-radius: 30px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 30px;
    border: 2px solid rgba(255, 255, 255, 0.3);
}

.hero-title {
    font-size: 72px;
    font-weight: 800;
    color: white;
    margin-bottom: 20px;
    line-height: 1.2;
    text-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.hero-subtitle {
    font-size: 24px;
    color: rgba(255, 255, 255, 0.95);
    margin-bottom: 40px;
    line-height: 1.6;
}

.hero-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
}

.btn-primary, .btn-secondary {
    padding: 16px 40px;
    border-radius: 30px;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
    border: none;
}

.btn-primary {
    background: white;
    color: #667eea;
}

.btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(255, 255, 255, 0.3);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    color: white;
    border: 2px solid rgba(255, 255, 255, 0.3);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-3px);
}

/* Scroll Indicator */
.scroll-indicator {
    position: absolute;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    width: 30px;
    height: 50px;
    border: 2px solid white;
    border-radius: 20px;
    display: flex;
    justify-content: center;
    padding-top: 8px;
}

.scroll-indicator::before {
    content: '';
    width: 4px;
    height: 8px;
    background: white;
    border-radius: 2px;
    animation: scrollDown 2s ease infinite;
}

@keyframes scrollDown {
    0% {transform: translateY(0); opacity: 1;}
    100% {transform: translateY(20px); opacity: 0;}
}

/* Content Sections */
.content-wrapper {
    max-width: 1400px;
    margin: 0 auto;
    padding: 80px 20px;
}

.section {
    margin-bottom: 120px;
    animation: fadeInUp 0.8s ease;
}

@keyframes fadeInUp {
    from {opacity: 0; transform: translateY(30px);}
    to {opacity: 1; transform: translateY(0);}
}

.section-header {
    text-align: center;
    margin-bottom: 60px;
}

.section-badge {
    display: inline-block;
    background: rgba(102, 126, 234, 0.1);
    color: #667eea;
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 15px;
}

.section-title {
    font-size: 48px;
    font-weight: 800;
    color: white;
    margin-bottom: 15px;
}

.section-subtitle {
    font-size: 18px;
    color: rgba(255, 255, 255, 0.8);
    max-width: 600px;
    margin: 0 auto;
}

/* Content Box */
.content-box {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 24px;
    padding: 50px;
    margin-bottom: 30px;
    border: 2px solid rgba(255, 255, 255, 0.2);
}

.content-box h3 {
    font-size: 32px;
    color: #1e293b;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.content-box p, .content-box li {
    font-size: 18px;
    color: #64748b;
    line-height: 1.8;
    margin-bottom: 15px;
}

.content-box ul {
    list-style: none;
    padding-left: 0;
}

.content-box li {
    padding-left: 30px;
    position: relative;
}

.content-box li::before {
    content: '‚úì';
    position: absolute;
    left: 0;
    color: #667eea;
    font-weight: bold;
    font-size: 20px;
}

/* Two Column Layout */
.two-column {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
}

.three-column {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
}

/* Feature List */
.feature-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 30px;
}

.feature-item {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
    padding: 25px;
    border-radius: 16px;
    border-left: 4px solid #667eea;
}

.feature-item h4 {
    font-size: 20px;
    color: #1e293b;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.feature-item p {
    font-size: 16px;
    color: #64748b;
    line-height: 1.6;
    margin: 0;
}

/* Stats Grid */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.stat-box {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 24px;
    padding: 35px;
    text-align: center;
    transition: all 0.3s;
}

.stat-box:hover {
    transform: scale(1.05);
    background: rgba(255, 255, 255, 0.15);
}

.stat-number {
    font-size: 48px;
    font-weight: 800;
    color: white;
    margin-bottom: 10px;
}

.stat-label {
    font-size: 16px;
    color: rgba(255, 255, 255, 0.9);
    font-weight: 600;
}

/* Info Section with Cards (CRUD Only) */
.info-section {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    border-radius: 30px;
    padding: 60px 40px;
    border: 2px solid rgba(255, 255, 255, 0.1);
}

.admin-form {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    padding: 40px;
    border-radius: 24px;
    margin-bottom: 50px;
}

.form-title {
    font-size: 24px;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 25px;
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 25px;
}

.info-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    padding: 30px;
    border-radius: 20px;
    border: 2px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s;
}

.info-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    border-color: #667eea;
}

.info-card h4 {
    color: #1e293b;
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 12px;
}

.info-card p {
    color: #64748b;
    line-height: 1.7;
    margin-bottom: 20px;
}

.actions {
    display: flex;
    gap: 10px;
}

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.3s;
}

.btn-edit {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
}

.btn-edit:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
}

.btn-delete {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
}

.btn-delete:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(239, 68, 68, 0.4);
}

.empty-state {
    text-align: center;
    padding: 80px 20px;
    color: rgba(255, 255, 255, 0.6);
}

.empty-state p {
    font-size: 18px;
    
}

#infoList {
    width: 100%;
    display: flex;
    justify-content: center;
}

.info-card {
    width: 100%; /* atau ukuran grid kamu sebelumnya */
}

/* Contact Grid */
.contact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
}

.contact-item {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
    padding: 25px;
    border-radius: 16px;
    border-left: 4px solid #667eea;
}

.contact-icon {
    font-size: 32px;
    margin-bottom: 12px;
}

.contact-label {
    font-size: 14px;
    font-weight: 600;
    color: #64748b;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.contact-value {
    font-size: 16px;
    font-weight: 600;
    color: #1e293b;
}

/* Footer */
.footer {
    text-align: center;
    padding: 60px 20px;
    color: rgba(255, 255, 255, 0.8);
}

.footer-text {
    font-size: 16px;
    margin-bottom: 10px;
}

.footer-love {
    font-size: 14px;
    opacity: 0.7;
}

.hidden {
    display: none !important;
}

/* --- VISI & MISI STYLES --- */
/* (Gaya Visi Misi yang terakhir dan sudah diintegrasikan) */

/* --- 1. BASE: PALET WARNA & FONT --- */
/* --- 1. BASE: PALET WARNA & FONT --- */

#visi-misi {
    /* Palet Warna Netral & Deep (Pertahankan untuk kartu) */
    --color-primary: #1c315b;       
    --color-secondary: #3c4043;     
    --color-highlight: #ff6b6b;     
    --color-card-bg: #ffffff;
    
    padding: 80px 5vw; 
    /* --- PERUBAHAN UTAMA DI SINI --- */
    background-color: transparent; /* Latar belakang section dihilangkan */
    /* --- END PERUBAHAN UTAMA --- */
    
    font-family: 'Roboto', 'Helvetica Neue', Arial, sans-serif; 
    color: var(--color-secondary);
    line-height: 1.7;
}

/* --- 2. TATA LETAK VISI & MISI (Menggunakan Pembungkus Flexbox) --- */

#visi-misi-flex-wrapper {
    display: flex;
    flex-wrap: wrap; 
    justify-content: space-between;
    gap: 40px; 
    margin-bottom: 50px; 
}

/* Kartu Visi dan Misi: Pertahankan Latar Belakang Putih */
#visi-misi-flex-wrapper > div { 
    flex: 1; 
    min-width: 300px; 
    
    padding: 35px;
    background-color: var(--color-card-bg); /* TETAP PUTIH */
    border-radius: 16px; 
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.03);
    border-left: 5px solid var(--color-highlight); 
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
}

#visi-misi-flex-wrapper > div:hover {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); 
    transform: translateY(-3px);
}

/* --- 3. GAYA JUDUL (H1) --- */

#visi-misi h1 {
    font-size: 2em;
    color: var(--color-primary); 
    margin-bottom: 25px;
    padding-bottom: 10px;
    text-transform: uppercase;
    font-weight: 700;
    letter-spacing: 1.5px;
    border-bottom: none; 
    position: relative;
}

#visi-misi h1::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: 0;
    width: 60px; 
    height: 3px;
    background-color: var(--color-highlight);
    border-radius: 2px;
}

/* (Gaya Visi & Misi List tidak berubah) */
.visi-container {
    font-size: 1.15em;
    font-weight: 400;
    color: var(--color-secondary);
    min-height: 100px; 
}

.misi-list {
    list-style: none; 
    padding: 0;
    margin: 0;
}

.misi-list li {
    margin-bottom: 15px;
    padding: 12px 0;
    font-size: 1em;
    color: var(--color-secondary);
    border-bottom: 1px solid #e5e5e5; 
    display: flex;
    align-items: flex-start;
    gap: 15px;
}

.misi-list li::before {
    content: '‚úì'; 
    color: var(--color-highlight);
    font-size: 1.2em;
    font-weight: bold;
    flex-shrink: 0; 
}

.misi-list li:last-child {
    border-bottom: none;
}

/* --- 4. NILAI LIST (Fokus pada Tata Letak Judul & Konten) --- */

.nilai-list {
    padding: 35px; /* Tambahkan padding ke container nilai-list */
    background-color: var(--color-card-bg); /* Beri Latar Belakang Putih */
    border-radius: 16px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.04), 0 1px 3px rgba(0, 0, 0, 0.03); /* Beri bayangan */
    color: var(--color-secondary);
    text-align: center; 
    /* Menggunakan Grid untuk konten Nilai */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 30px;
    padding-top: 20px; 
}

/* Judul Nilai dipindahkan ke luar grid untuk tampilan yang bersih */
.nilai-list::before {
    content: "NILAI INTI PERUSAHAAN";
    font-size: 2.2em;
    color: var(--color-primary);
    margin: 0 0 40px 0; /* Sesuaikan margin agar di atas kartu Nilai */
    font-weight: 700;
    letter-spacing: 2px;
    display: block; 
    text-align: center; 
    /* Nilai ini tidak lagi menjadi bagian dari grid item, tapi header section Nilai */
    grid-column: 1 / -1; 
}

/* --- 5. RESPONSIVITAS (Mobile) --- */

@media (max-width: 767px) {
    #visi-misi {
        padding: 40px 5vw;
    }

    #visi-misi-flex-wrapper {
        flex-direction: column;
        gap: 25px;
    }

    .nilai-list {
        grid-template-columns: 1fr;
    }

    .nilai-list::before {
        font-size: 1.5em;
        margin-bottom: 25px;
    }
}

/* --- HEADER IMAGE / HOME BACKGROUND --- */
#home {
    background-image: url('img/gedungs.jpg'); 
    background-size: cover; 
    background-position: center; 
    background-repeat: no-repeat; 
    position: relative;
    z-index: 1; 
}

#home::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4); 
    z-index: 2;
}

.hero-content {
    position: relative;
    z-index: 3;
    color: white; 
}

.hero-title, .hero-subtitle, .hero-badge {
    color: white;
}
</style>
</head>
<body>

<div class="bg-animation"></div>

<!-- Admin Login Modal -->
<div class="auth-modal hidden" id="authModal">
  <div class="auth-container">
    <div class="auth-logo">üîê</div>
    <div class="auth-header">
      <h2>Admin Login</h2>
      <p>Portal SMA Negeri 1 Dramaga</p>
    </div>
    <form onsubmit="login(event)">
      <div class="form-group">
        <label>Username</label>
        <input type="text" id="logUsername" placeholder="Masukkan username admin" required>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" id="logPassword" placeholder="Masukkan password" required>
      </div>
      <button type="submit">Login sebagai Admin</button>
      <div class="auth-footer">
        <a onclick="closeAdminLogin()">Kembali ke Portal</a>
      </div>
    </form>
  </div>
</div>

<!-- Main Dashboard -->
<div class="main-wrapper" id="mainDashboard">
  <!-- Floating Header -->
  <div class="floating-header">
    <img src="img/smanida.jpg" alt="">
    <nav class="nav-menu">
      <a href="#home">Beranda</a>
      <a href="#visi-misi">Visi & Misi</a>
      <a href="#profil">Profil</a>
      <a href="#informasi">Informasi</a>
      <a href="#kontak">Kontak</a>
    </nav>
    <div class="user-section">
      <div class="user-badge hidden" id="userBadge">Admin</div>
      <button class="admin-btn" id="adminLoginBtn" onclick="showAdminLogin()">üîê Admin</button>
      <button class="logout-btn hidden" id="logoutBtn" onclick="logout()">Logout</button>
    </div>
  </div>

  <!-- Hero Section -->
<section class="hero-section" id="home">
  <div class="hero-content">
    <div class="hero-badge">‚ú® Selamat Datang di Portal Kami</div>
    <h1 class="hero-title">SMANIDA<br>UNGGULAN</h1>
    <p class="hero-subtitle">Membangun Generasi Cerdas, Berkarakter, dan Berprestasi<br>Menuju Masa Depan Gemilang</p>
    <div class="hero-buttons">
      <button class="btn-primary" onclick="document.getElementById('informasi').scrollIntoView({behavior: 'smooth'})">Lihat Informasi</button>
      <button class="btn-secondary" onclick="document.getElementById('kontak').scrollIntoView({behavior: 'smooth'})">Hubungi Kami</button>
    </div>
  </div>
  <div class="scroll-indicator"></div>
</section>

  <!-- Content Wrapper -->
  <div class="content-wrapper">

    <!-- About Section -->
    <section class="section">
      <div class="section-header">
        <div class="section-badge">Tentang Kami</div>
        <h2 class="section-title">Keunggulan Kami</h2>
        <p class="section-subtitle">Mengapa memilih SMA Negeri 1 Dramaga Unggulan sebagai pilihan terbaik untuk masa depan Anda</p>
      </div>

      <div class="content-box">
        <h3>üéì Sekolah Unggul Berkualitas Internasional</h3>
        <p>SMA Negeri 1 Dramaga Unggulan adalah lembaga pendidikan yang berkomitmen untuk menghasilkan lulusan berkualitas dengan mengintegrasikan pendidikan akademik, pembentukan karakter, dan pengembangan bakat. Dengan tenaga pendidik profesional dan fasilitas modern, kami siap mencetak generasi penerus bangsa yang unggul dan siap bersaing di tingkat global.</p>
        <p>Sejak didirikan pada tahun 1985, kami telah menghasilkan ribuan alumni yang sukses di berbagai bidang, baik di dalam maupun luar negeri. Prestasi kami tidak hanya dalam bidang akademik, tetapi juga dalam pembentukan karakter dan pengembangan soft skills yang dibutuhkan di abad 21.</p>
      </div>

      <section id="statsSection" class="admin-form hidden">
  <h3>Kelola Statistik Sekolah</h3>

  <form id="statsForm" onsubmit="saveStats(event)">
    <input type="hidden" id="statsId">

    <label>Angka:</label>
    <input type="text" id="statsAngka" placeholder="Contoh: 1200+" required>

    <label>Label:</label>
    <input type="text" id="statsLabel" placeholder="Contoh: Siswa Aktif" required>

    <button type="submit">Simpan</button>
  </form>

  <div id="statsList"></div>
</section>


     <div class="stats-grid" id="statsUser"></div>



    </section>

    <!-- Visi Misi Section -->
<section id="visiMisiAdmin" class="admin-form hidden">
  <h3>Kelola Visi & Misi</h3>
  
  <form onsubmit="saveVisiMisi(event)">
    <input type="hidden" id="vmId">

    <label>Kategori:</label>
    <select id="vmKategori">
      <option value="visi">Visi</option>
      <option value="misi">Misi</option>
      <option value="nilai">Nilai</option>
    </select>

    <label>Judul:</label>
    <input type="text" id="vmJudul" required>

    <label>Deskripsi:</label>
    <textarea id="vmDeskripsi" required></textarea>

    <button type="submit" class="btn btn-save">Simpan</button>
  </form>

  <div id="vmList"></div>
</section>


<section id="visi-misi">
    <div id="visi-misi-flex-wrapper"> 
        <div>
            <h1>Visi</h1>
            <div class="visi-container">
            </div>
        </div>
        <div>
            <h1>Misi</h1>
            <ul class="misi-list">
              
            </ul>
        </div>
    </div>
    <div class="nilai-list">
    </div>
</section>





    <!-- Profil Section -->
    <section class="section" id="profil">
      <div class="section-header">
        <div class="section-badge">Profil Sekolah</div>
        <h2 class="section-title">Mengenal Lebih Dekat</h2>
        <p class="section-subtitle">Informasi lengkap tentang identitas dan fasilitas sekolah kami</p>
      </div>

      <div class="content-box">
        <h3>üèõÔ∏è Identitas Sekolah</h3>
        <div class="three-column">
          <div>
            <p><strong>Nama Sekolah:</strong><br>SMA Negeri 1 Dramaga</p>
            <p><strong>NPSN:</strong><br>12345678</p>
            <p><strong>Akreditasi:</strong><br>A (Unggul)</p>
          </div>
          <div>
            <p><strong>Status:</strong><br>Negeri</p>
            <p><strong>Tahun Berdiri:</strong><br>1985</p>
            <p><strong>Kepala Sekolah:</strong><br>Dr. Ahmad Yani, M.Pd</p>
          </div>
          <div>
            <p><strong>Luas Tanah:</strong><br>15.000 m¬≤</p>
            <p><strong>Luas Bangunan:</strong><br>8.000 m¬≤</p>
            <p><strong>Jumlah Rombel:</strong><br>36 Kelas</p>
          </div>
        </div>
      </div>

      <div class="content-box">
        <h3>üë• Komunitas Sekolah</h3>
        <div class="stats-grid">
          <div class="stat-box" style="background: rgba(255, 255, 255, 0.95); border: 2px solid #667eea;">
            <div class="stat-number" style="color: #667eea;">1200+</div>
            <div class="stat-label" style="color: #1e293b;">Siswa Aktif</div>
          </div>
          <div class="stat-box" style="background: rgba(255, 255, 255, 0.95); border: 2px solid #10b981;">
            <div class="stat-number" style="color: #10b981;">85</div>
            <div class="stat-label" style="color: #1e293b;">Guru & Staff</div>
          </div>
          <div class="stat-box" style="background: rgba(255, 255, 255, 0.95); border: 2px solid #f59e0b;">
            <div class="stat-number" style="color: #f59e0b;">36</div>
            <div class="stat-label" style="color: #1e293b;">Ruang Kelas</div>
          </div>
          <div class="stat-box" style="background: rgba(255, 255, 255, 0.95); border: 2px solid #ef4444;">
            <div class="stat-number" style="color: #ef4444;">3000+</div>
            <div class="stat-label" style="color: #1e293b;">Alumni</div>
          </div>
        </div>
      </div>

      <section id="fasilitasSection" class="admin-form hidden">
  <h3>Kelola Fasilitas Unggulan</h3>

  <form onsubmit="saveFasilitas(event)">
    <input type="hidden" id="fasId">

    <label>Nama Fasilitas:</label>
    <input type="text" id="fasNama" required>

    <label>Deskripsi:</label>
    <textarea id="fasDeskripsi" required></textarea>

    <button type="submit" class="btn btn-save">Simpan</button>
  </form>

  <div id="fasList"></div>
</section>

<div class="content-box">
  <h3>üè´ Fasilitas Unggulan</h3>
  <div id="fasilitasUser" class="feature-list"></div>
</div>

      
<section id="programSection" class="admin-form hidden">
  <h3>Kelola Program Unggulan</h3>

  <form onsubmit="saveProgram(event)">
    <input type="hidden" id="programId">

    <label>Nama Program:</label>
    <input type="text" id="programNama" required>

    <label>Deskripsi:</label>
    <textarea id="programDeskripsi" required></textarea>

    <button type="submit">Simpan</button>
  </form>

  <div id="programList"></div>
</section>


    <div class="content-box">
  <h3>üèÜ Program Unggulan</h3>

  <!-- GANTI UL STATIC MENJADI INI -->
  <ul id="programUser"></ul>
</div>


    </section>

    <!-- Informasi Section with CRUD -->
    <section class="section info-section" id="informasi">
      <div class="section-header">
        <div class="section-badge">Informasi Terkini</div>
        <h2 class="section-title">Pengumuman & Berita</h2>
        <p class="section-subtitle">Informasi terbaru dan pengumuman penting dari sekolah</p>
      </div>

      <!-- Admin Form -->
      <div id="adminSection" class="hidden">
        <div class="admin-form">
          <h3 class="form-title">üìù Kelola Informasi Sekolah</h3>
          <form onsubmit="saveInfo(event)">
            <input type="hidden" id="infoId">
            <div class="form-group">
              <label>Judul Informasi</label>
              <input type="text" id="judul" placeholder="Masukkan judul informasi" required>
            </div>
            <div class="form-group">
              <label>Deskripsi Lengkap</label>
              <textarea id="deskripsi" placeholder="Masukkan deskripsi informasi secara detail" rows="5" required></textarea>
            </div>
            <button type="submit">Simpan Informasi</button>
          </form>
        </div>
      </div>

      <div id="infoList" class="info-grid"></div>
    </section>

    <!-- Kontak Section -->
    <section class="section" id="kontak">
      <div class="section-header">
        <div class="section-badge">Hubungi Kami</div>
        <h2 class="section-title">Informasi Kontak</h2>
        <p class="section-subtitle">Kami siap membantu Anda, jangan ragu untuk menghubungi kami</p>
      </div>

      <section id="kontakSection" class="admin-form hidden">
  <h3>Kelola Kontak</h3>

  <form onsubmit="saveKontak(event)">
    <input type="hidden" id="kontakId">

    <label>Label Kontak:</label>
    <input type="text" id="kontakLabel" required placeholder="Contoh: WhatsApp">

    <label>Isi Kontak:</label>
    <textarea id="kontakNilai" required></textarea>

    <button type="submit" class="btn btn-save">Simpan</button>
  </form>

  <div id="kontakList"></div>
</section>


      <div class="content-box">
  <h3>üìû Kontak Utama</h3>
  <div class="contact-grid" id="kontakUser"></div>
</div>


      <div class="content-box">
        <h3>üïê Jam Operasional</h3>
        <div class="two-column">
          <div>
            <p><strong>üìÖ Hari Kerja (Senin - Jumat):</strong><br>
            Pukul 07.00 - 16.00 WIB</p>
            <p><strong>üìÖ Hari Sabtu:</strong><br>
            Pukul 07.00 - 13.00 WIB</p>
          </div>
          <div>
            <p><strong>üìÖ Hari Minggu & Libur Nasional:</strong><br>
            Tutup</p>
            <p><strong>üìÖ Jam Pelayanan TU:</strong><br>
            Senin - Jumat: 07.30 - 15.30 WIB</p>
          </div>
        </div>
      </div>



<section id="sosmedSection" class="admin-form hidden">
  <h3>Kelola Media Sosial</h3>

  <form id="sosmedForm" onsubmit="saveSosmed(event)">
    <input type="hidden" id="sosmedId">

    <label>Nama Platform:</label>
    <input type="text" id="sosmedNama" placeholder="Contoh: Instagram" required>

    <label>Icon (Emoji):</label>
    <input type="text" id="sosmedIcon" placeholder="Contoh: üì∏" required>

    <label>Username / Link:</label>
    <input type="text" id="sosmedNilai" placeholder="@sman1dramaga" required>

    <button type="submit">Simpan</button>
  </form>

  <div id="sosmedList"></div>
</section>

<div id="sosmedList"></div>


     <div class="content-box">
  <h3>üì± Media Sosial</h3>
  <p style="margin-bottom: 20px;">Ikuti kami di media sosial untuk mendapatkan update terbaru, informasi kegiatan sekolah, dan konten menarik!</p>

  <!-- DATA DARI SUPABASE MASUK KE SINI -->
  <div id="sosmedUser" class="contact-grid"></div>
</div>


      <div class="content-box">
        <h3>üó∫Ô∏è Lokasi & Akses</h3>
        <p><strong>Transportasi Umum:</strong></p>
        <ul style="margin-bottom: 15px;">
          <li>Bus Transjakarta: Halte Pendidikan Raya (5 menit berjalan kaki)</li>
          <li>KRL: Stasiun Kota Unggulan (15 menit dengan angkot)</li>
          <li>Angkutan Kota: Jurusan Terminal - Sekolah (turun depan gerbang)</li>
        </ul>
        <p><strong>Landmark Terdekat:</strong> Mall Unggulan (500m), RS Harapan Sehat (1km), Masjid Agung (300m)</p>
      </div>
    </section>

  </div>

  <!-- Footer -->
  <footer class="footer">
    <p class="footer-text">¬© 2025 SMA Negeri 1 Dramaga Unggulan. All Rights Reserved.</p>
    <p class="footer-love">Made with ‚ù§Ô∏è Heni Ramadhani</p>
  </footer>
</div>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
  // ====== INIT SUPABASE ======
  const SUPABASE_URL = "https://qxxloieonwmipjgvfdks.supabase.co";
  const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4eGxvaWVvbndtaXBqZ3ZmZGtzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNzYxMjcsImV4cCI6MjA3ODk1MjEyN30.sduqPQriseSAYuP2wInujl0lXTWHbnBEev_SehArNMM";

  const db = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

  // ====== ADMIN LOGIN ======
  const ADMIN_USERNAME = 'HeniImuy';
  const ADMIN_PASSWORD = 'Heni123';

  const ADMIN2_USERNAME = 'PakDodi';
  const ADMIN2_PASSWORD = 'Dodi123';

  let isAdmin = false;
  let infos = [];
  let vmData = []; // ‚Üê untuk visi-misi


  // ====== SHOW ADMIN LOGIN ======
  function showAdminLogin() {
    document.getElementById('authModal').classList.remove('hidden');
  }

  function closeAdminLogin() {
    document.getElementById('authModal').classList.add('hidden');
    document.getElementById('logUsername').value = '';
    document.getElementById('logPassword').value = '';
  }


  // ====== LOGIN FUNCTION ======
  function login(e) {
    e.preventDefault();
    const username = document.getElementById('logUsername').value;
    const password = document.getElementById('logPassword').value;

    if (
      (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) ||
      (username === ADMIN2_USERNAME && password === ADMIN2_PASSWORD)
    ) {
      isAdmin = true;
      closeAdminLogin();
      updateUIForAdmin();
      alert('‚úÖ Login admin berhasil!');
    } else {
      alert('‚ùå Username atau password salah!');
    }
  }


  // ====== LOAD INFORMASI ======
  async function loadInfos() {
    let { data, error } = await db
      .from("infos")
      .select("*")
      .order("id", { ascending: false });

    if (error) {
      console.error("Error fetch:", error);
      return;
    }

    infos = data;
    renderInfo();
  }

  // ====== SAVE INFORMASI ======
 async function saveInfo(e) {
  e.preventDefault();

  if (!isAdmin) {
    alert("‚ùå Hanya admin yang bisa menambah/mengedit.");
    return;
  }

  const id = document.getElementById("infoId").value;
  const judul = document.getElementById("judul").value;
  const deskripsi = document.getElementById("deskripsi").value;

  let result;
  if (id) {
    result = await db.from("infos").update({ judul, deskripsi }).eq("id", id);
  } else {
    result = await db.from("infos").insert([{ judul, deskripsi }]);
  }

  if (result.error) {
    console.error("Insert/Update error:", result.error);
    alert("‚ùå Gagal menyimpan: " + result.error.message);
    return;
  }

  document.getElementById("infoId").value = "";
  e.target.reset();
  loadInfos();

  alert("‚úÖ Informasi berhasil disimpan!");
}

  // ====== DELETE INFORMASI ======
  async function deleteInfo(id) {
    if (!isAdmin) return;
    if (!confirm("Yakin hapus?")) return;
    await db.from("infos").delete().eq("id", id);
    loadInfos();
    alert("‚úÖ Dihapus!");
  }

  // ====== RENDER LIST INFORMASI ======
  function renderInfo() {
    const list = document.getElementById('infoList');
    list.innerHTML = '';

    if (infos.length === 0) {
      list.style.display = "flex";
      list.style.justifyContent = "center";
      list.innerHTML = `<div class="empty-state"><p>Belum ada informasi</p></div>`;
      return;
    }

    infos.forEach(info => {
      const div = document.createElement('div');
      div.classList.add('info-card');
      div.innerHTML = `
        <h4>${info.judul}</h4>
        <p>${info.deskripsi}</p>
        ${isAdmin ? `
          <div class="actions">
            <button class="btn btn-edit" onclick="editInfo(${info.id})">‚úèÔ∏è Edit</button>
            <button class="btn btn-delete" onclick="deleteInfo(${info.id})">üóëÔ∏è Hapus</button>
          </div>` : ''}
      `;
      list.appendChild(div);
    });
  }


  // ====== EDIT INFO ======
  function editInfo(id) {
    const info = infos.find(i => i.id == id);
    document.getElementById('infoId').value = info.id;
    document.getElementById('judul').value = info.judul;
    document.getElementById('deskripsi').value = info.deskripsi;
  }



  /* ============================================================
     ==================   VISI ‚Äì MISI  ==========================
     ============================================================ */

  // ===== LOAD VISI MISI =====
  async function loadVisiMisi() {
    let { data, error } = await db
      .from("visimisi")
      .select("*")
      .order("id", { ascending: false });

    if (error) return console.error(error);

    vmData = data;
    renderVisiMisi();
  }

  // ===== RENDER LIST ADMIN VISI MISI =====
  function renderVisiMisi() {
    const container = document.getElementById("vmList");
    if (!container) return;
    container.innerHTML = "";

    vmData.forEach(vm => {
      const div = document.createElement("div");
      div.classList.add("info-card");
      div.innerHTML = `
        <h4>[${vm.kategori.toUpperCase()}] ${vm.judul}</h4>
        <p>${vm.deskripsi}</p>
        ${isAdmin ? `
          <button onclick="editVisiMisi(${vm.id})">‚úèÔ∏è Edit</button>
          <button onclick="deleteVisiMisi(${vm.id})">üóëÔ∏è Hapus</button>
        ` : ""}
      `;
      container.appendChild(div);
    });

    renderVisiMisiToWebsite();
  }

  // ====== SAVE VISI MISI ======
  async function saveVisiMisi(e) {
    e.preventDefault();

    if (!isAdmin) return alert("‚ùå Hanya admin!");

    const id = document.getElementById("vmId").value;
    const kategori = document.getElementById("vmKategori").value;
    const judul = document.getElementById("vmJudul").value;
    const deskripsi = document.getElementById("vmDeskripsi").value;

    let result;
    if (id) {
      result = await db.from("visimisi").update({
        kategori, judul, deskripsi
      }).eq("id", id);
    } else {
      result = await db.from("visimisi").insert([{
        kategori, judul, deskripsi
      }]);
    }

    if (result.error) alert("Gagal menyimpan!");

    document.getElementById("vmId").value = "";
    e.target.reset();
    loadVisiMisi();
  }

  // ====== EDIT VISI MISI ======
  function editVisiMisi(id) {
    const vm = vmData.find(i => i.id == id);

    document.getElementById("vmId").value = vm.id;
    document.getElementById("vmKategori").value = vm.kategori;
    document.getElementById("vmJudul").value = vm.judul;
    document.getElementById("vmDeskripsi").value = vm.deskripsi;
  }

  // ====== DELETE VISI MISI ======
  async function deleteVisiMisi(id) {
    if (!confirm("Yakin hapus?")) return;
    await db.from("visimisi").delete().eq("id", id);
    loadVisiMisi();
  }


  /* ====== RENDER KE HALAMAN UTAMA WEBSITE ====== */
  function renderVisiMisiToWebsite() {

    // VISI
    const visi = vmData.filter(v => v.kategori === "visi");
    const visiDOM = document.querySelector("#visi-misi .visi-container");
    if (visiDOM) {
      visiDOM.innerHTML = visi.map(v =>
        `<p class="visi-item">"${v.deskripsi}"</p>`
      ).join("");
    }

    // MISI
    const misi = vmData.filter(v => v.kategori === "misi");
    const misiDOM = document.querySelector("#visi-misi .misi-list");
    if (misiDOM) {
      misiDOM.innerHTML = misi.map(v =>
        `<li>${v.deskripsi}</li>`
      ).join("");
    }

    // NILAI
    const nilai = vmData.filter(v => v.kategori === "nilai");
    const nilaiDOM = document.querySelector("#visi-misi .nilai-list");
    if (nilaiDOM) {
      nilaiDOM.innerHTML = nilai.map(v => `
        <div class="feature-item">
          <h4>${v.judul}</h4>
          <p>${v.deskripsi}</p>
        </div>
      `).join("");
    }
  }



    // ====== UI ADMIN ======
  function updateUIForAdmin() {
    document.getElementById('adminSection').classList.remove('hidden');
    document.getElementById('visiMisiAdmin').classList.remove('hidden');

    // FIX: buka form fasilitas saat admin login
    const fasSection = document.getElementById('fasilitasSection');
    if (fasSection) fasSection.classList.remove('hidden');

      const programSection = document.getElementById('programSection');
    if (programSection) programSection.classList.remove('hidden');

    const kontakSection = document.getElementById('kontakSection'); 
    if (kontakSection) kontakSection.classList.remove('hidden');

    const sosmedSection = document.getElementById('sosmedSection');
    if (sosmedSection) sosmedSection.classList.remove('hidden');

    const statsSection = document.getElementById('statsSection');
    if (statsSection) statsSection.classList.remove('hidden');
    

    loadInfos();
    loadVisiMisi();
    loadFasilitas(); // pastikan juga dipanggil
    loadProgram();
    loadKontak();
    loadSosmed();
    loadStats();
  }

  function updateUIForGuest() {
    document.getElementById('adminSection').classList.add('hidden');
    document.getElementById('visiMisiAdmin').classList.add('hidden');

    // FIX: sembunyikan form fasilitas jika keluar admin
    const fasSection = document.getElementById('fasilitasSection');
    if (fasSection) fasSection.classList.add('hidden');

    const programSection = document.getElementById('programSection');
    if (programSection) programSection.classList.add('hidden');

    const kontakSection = document.getElementById('kontakSection');
    if (kontakSection) kontakSection.classList.add('hidden');

    const sosmedSection = document.getElementById('sosmedSection');
    if (sosmedSection) sosmedSection.classList.add('hidden');

    const statsSection = document.getElementById('statsSection');
    if (statsSection) statsSection.classList.add('hidden');

    loadInfos();
    loadVisiMisi();
    loadFasilitas();
    loadProgram();
    loadKontak();
    loadSosmed();
    loadStats();
  }


  let fasData = [];

  /* ============================================================
    ===================== FASILITAS ============================
    ============================================================ */

  // LOAD FASILITAS
  async function loadFasilitas() {
    let { data, error } = await db
      .from("fasilitas")
      .select("*")
      .order("id", { ascending: false });

    if (error) return console.error(error);

    fasData = data;
    renderFasilitasAdmin();
    renderFasilitasUser();
  }

  // RENDER LIST ADMIN
  function renderFasilitasAdmin() {
    const container = document.getElementById("fasList");
    if (!container) return;
    container.innerHTML = "";

    fasData.forEach(f => {
      const div = document.createElement("div");
      div.classList.add("info-card");
      div.innerHTML = `
        <h4>${f.nama}</h4>
        <p>${f.deskripsi}</p>
        ${isAdmin ? `
          <button onclick="editFasilitas(${f.id})">‚úèÔ∏è Edit</button>
          <button onclick="deleteFasilitas(${f.id})">üóëÔ∏è Hapus</button>
        ` : ""}
      `;
      container.appendChild(div);
    });
  }

  // RENDER UNTUK USER
  function renderFasilitasUser() {
    const container = document.getElementById("fasilitasUser");
    if (!container) return;

    container.innerHTML = fasData.map(f => `
      <div class="feature-item">
        <h4>${f.nama}</h4>
        <p>${f.deskripsi}</p>
      </div>
    `).join("");
  }

  // SIMPAN / UPDATE
  async function saveFasilitas(e) {
    e.preventDefault();

    if (!isAdmin) return alert("‚ùå Hanya admin!");

    const id = document.getElementById("fasId").value;
    const nama = document.getElementById("fasNama").value;
    const deskripsi = document.getElementById("fasDeskripsi").value;

    let result;
    if (id) {
      result = await db.from("fasilitas").update({ nama, deskripsi }).eq("id", id);
    } else {
      result = await db.from("fasilitas").insert([{ nama, deskripsi }]);
    }

    if (result.error) return alert("Gagal menyimpan!");

    e.target.reset();
    document.getElementById("fasId").value = "";
    loadFasilitas();
  }

  // EDIT
  function editFasilitas(id) {
    const f = fasData.find(i => i.id == id);

    document.getElementById("fasId").value = f.id;
    document.getElementById("fasNama").value = f.nama;
    document.getElementById("fasDeskripsi").value = f.deskripsi;
  }

  // DELETE
  async function deleteFasilitas(id) {
    if (!confirm("Yakin hapus?")) return;

    await db.from("fasilitas").delete().eq("id", id);
    loadFasilitas();
  }
  /* ============================================================
    ===================== PROGRAM UNGGULAN =====================
    ============================================================ */
let programData = [];

// LOAD PROGRAM
async function loadProgram() {
  let { data, error } = await db
    .from("program_unggulan")   // ‚Üê ganti ini
    .select("*")
    .order("id", { ascending: false });

  if (error) return console.error(error);

  programData = data;

  renderProgramAdmin();
  renderProgramUser();
}

/* ====== RENDER DI ADMIN ====== */
function renderProgramAdmin() {
  const container = document.getElementById("programList");
  if (!container) return;

  container.innerHTML = "";

  programData.forEach(p => {
    const div = document.createElement("div");
    div.classList.add("info-card");

    div.innerHTML = `
      <h4>${p.nama}</h4>
      <p>${p.deskripsi}</p>

      ${isAdmin ? `
        <button onclick="editProgram(${p.id})">‚úèÔ∏è Edit</button>
        <button onclick="deleteProgram(${p.id})">üóëÔ∏è Hapus</button>
      ` : ""}
    `;

    container.appendChild(div);
  });
}

/* ====== RENDER UNTUK USER ====== */
function renderProgramUser() {
  const container = document.getElementById("programUser");
  if (!container) return;

  container.innerHTML = programData
    .map(p => `<li><strong>${p.nama}:</strong> ${p.deskripsi}</li>`)
    .join("");
}

/* ====== SIMPAN / UPDATE ====== */
async function saveProgram(e) {
  e.preventDefault();

  if (!isAdmin) return alert("‚ùå Hanya admin!");

  const id = document.getElementById("programId").value;
  const nama = document.getElementById("programNama").value;
  const deskripsi = document.getElementById("programDeskripsi").value;

  let result;
  if (id) {
    result = await db
      .from("program_unggulan")    // ‚Üê ganti ini
      .update({ nama, deskripsi })
      .eq("id", id);
  } else {
    result = await db
      .from("program_unggulan")    // ‚Üê ganti ini
      .insert([{ nama, deskripsi }]);
  }

  if (result.error) return alert("Gagal menyimpan!");

  e.target.reset();
  document.getElementById("programId").value = "";

  loadProgram();
}

/* ====== EDIT ====== */
function editProgram(id) {
  const p = programData.find(i => i.id == id);

  document.getElementById("programId").value = p.id;
  document.getElementById("programNama").value = p.nama;
  document.getElementById("programDeskripsi").value = p.deskripsi;
}

/* ====== DELETE ====== */
async function deleteProgram(id) {
  if (!confirm("Yakin hapus?")) return;

  await db
    .from("program_unggulan")    // ‚Üê ganti ini
    .delete()
    .eq("id", id);

  loadProgram();
}


/* ============================================================
   ========================= KONTAK ============================
   ============================================================ */

let kontakData = [];

// LOAD
async function loadKontak() {
  let { data, error } = await db
    .from("kontak")
    .select("*")
    .order("urutan", { ascending: true });

  if (error) return console.error(error);

  kontakData = data;
  renderKontakAdmin();
  renderKontakUser();
}

/* ========== RENDER ADMIN ========== */
function renderKontakAdmin() {
  const container = document.getElementById("kontakList");
  if (!container) return;

  container.innerHTML = "";

  kontakData.forEach(k => {
    const div = document.createElement("div");
    div.classList.add("info-card");

    div.innerHTML = `
      <h4>${k.label}</h4>
      <p>${k.nilai}</p>

      ${isAdmin ? `
        <button onclick="editKontak(${k.id})">‚úèÔ∏è Edit</button>
        <button onclick="deleteKontak(${k.id})">üóëÔ∏è Hapus</button>
      ` : ""}
    `;

    container.appendChild(div);
  });
}

/* ========== RENDER USER ========== */
function renderKontakUser() {
  const container = document.getElementById("kontakUser");
  if (!container) return;

  container.innerHTML = kontakData.map(k => `
    <div class="contact-item">
      <div class="contact-label">${k.label}</div>
      <div class="contact-value">${k.nilai.replace(/\n/g, "<br>")}</div>
    </div>
  `).join("");
}

/* ========== SIMPAN ========== */
async function saveKontak(e) {
  e.preventDefault();

  if (!isAdmin) return alert("‚ùå Hanya admin!");

  const id = document.getElementById("kontakId").value;
  const label = document.getElementById("kontakLabel").value;
  const nilai = document.getElementById("kontakNilai").value;

  let result;
  if (id) {
    result = await db.from("kontak")
      .update({ label, nilai })
      .eq("id", id);
  } else {
    result = await db.from("kontak")
      .insert([{ label, nilai }]);
  }

  if (result.error) return alert("Gagal menyimpan!");

  e.target.reset();
  document.getElementById("kontakId").value = "";
  loadKontak();
}

/* ========== EDIT ========== */
function editKontak(id) {
  const k = kontakData.find(i => i.id == id);

  document.getElementById("kontakId").value = k.id;
  document.getElementById("kontakLabel").value = k.label;
  document.getElementById("kontakNilai").value = k.nilai;
}

/* ========== DELETE ========== */
async function deleteKontak(id) {
  if (!confirm("Yakin hapus?")) return;

  await db.from("kontak").delete().eq("id", id);
  loadKontak();
}


let sosmedData = [];

// LOAD DATA
async function loadSosmed() {
  let { data, error } = await db
    .from("sosialmedia")
    .select("*")
    .order("id", { ascending: false });

  if (error) return console.error(error);

  sosmedData = data;
  renderSosmedAdmin();
  renderSosmedUser();
}


/* ========== RENDER ADMIN ========== */
function renderSosmedAdmin() {
  const container = document.getElementById("sosmedList");
  if (!container) return;

  container.innerHTML = "";

  sosmedData.forEach(s => {
    const div = document.createElement("div");
    div.classList.add("info-card");

    div.innerHTML = `
      <strong>${s.icon} ${s.nama}</strong><br>
      ${s.nilai}
      <br>
      ${isAdmin ? `
        <button onclick="editSosmed(${s.id})">‚úèÔ∏è Edit</button>
        <button onclick="deleteSosmed(${s.id})">üóëÔ∏è Hapus</button>
      ` : ""}
    `;

    container.appendChild(div);
  });
}


/* ========== RENDER USER ========== */
function renderSosmedUser() {
  const container = document.getElementById("sosmedUser");
  if (!container) return;

  container.innerHTML = sosmedData.map(s => `
    <div class="contact-item">
      <div class="contact-icon">${s.icon}</div>
      <div class="contact-label">${s.nama}</div>
      <div class="contact-value">${s.nilai}</div>
    </div>
  `).join("");
}


/* ========== SIMPAN / UPDATE ========== */
async function saveSosmed(e) {
  e.preventDefault();

  if (!isAdmin) return alert("‚ùå Hanya admin!");

  const id = document.getElementById("sosmedId").value;
  const nama = document.getElementById("sosmedNama").value;
  const icon = document.getElementById("sosmedIcon").value;
  const nilai = document.getElementById("sosmedNilai").value;

  let result;

  if (id) {
    result = await db.from("sosialmedia")
      .update({ nama, icon, nilai })
      .eq("id", id);
  } else {
    result = await db.from("sosialmedia")
      .insert([{ nama, icon, nilai }]);
  }

  if (result.error) return alert("Gagal menyimpan!");

  e.target.reset();
  document.getElementById("sosmedId").value = "";

  loadSosmed();
}


/* ========== EDIT ========== */
function editSosmed(id) {
  const s = sosmedData.find(i => i.id == id);

  document.getElementById("sosmedId").value = s.id;
  document.getElementById("sosmedNama").value = s.nama;
  document.getElementById("sosmedIcon").value = s.icon;
  document.getElementById("sosmedNilai").value = s.nilai;
}


/* ========== DELETE ========== */
async function deleteSosmed(id) {
  if (!confirm("Yakin hapus?")) return;

  await db.from("sosialmedia")
    .delete()
    .eq("id", id);

  loadSosmed();
}


let statsData = [];

/* ========= LOAD ========= */
async function loadStats() {
  let { data, error } = await db
    .from("stats")
    .select("*")
    .order("id", { ascending: true });

  if (error) return console.error(error);

  statsData = data;
  renderStatsAdmin();
  renderStatsUser();
}

/* ========= RENDER ADMIN ========= */
function renderStatsAdmin() {
  const container = document.getElementById("statsList");
  if (!container) return;

  container.innerHTML = statsData.map(s => `
    <div class="info-card">
      <h4>${s.angka}</h4>
      <p>${s.label}</p>

      ${isAdmin ? `
        <button onclick="editStats(${s.id})">‚úèÔ∏è Edit</button>
        <button onclick="deleteStats(${s.id})">üóëÔ∏è Hapus</button>
      ` : ""}
    </div>
  `).join("");
}

/* ========= RENDER USER ========= */
function renderStatsUser() {
  const container = document.getElementById("statsUser");
  if (!container) return;

  container.innerHTML = statsData.map(s => `
    <div class="stat-box">
      <div class="stat-number">${s.angka}</div>
      <div class="stat-label">${s.label}</div>
    </div>
  `).join("");
}

/* ========= SIMPAN / UPDATE ========= */
async function saveStats(e) {
  e.preventDefault();

  if (!isAdmin) return alert("‚ùå Hanya admin!");

  const id = document.getElementById("statsId").value;
  const angka = document.getElementById("statsAngka").value;
  const label = document.getElementById("statsLabel").value;

  let result;
  if (id) {
    result = await db.from("stats")
      .update({ angka, label })
      .eq("id", id);
  } else {
    result = await db.from("stats")
      .insert([{ angka, label }]);
  }

  if (result.error) return alert("Gagal menyimpan!");

  e.target.reset();
  document.getElementById("statsId").value = "";
  loadStats();
}

/* ========= EDIT ========= */
function editStats(id) {
  const s = statsData.find(i => i.id == id);
  document.getElementById("statsId").value = s.id;
  document.getElementById("statsAngka").value = s.angka;
  document.getElementById("statsLabel").value = s.label;
}

/* ========= DELETE ========= */
async function deleteStats(id) {
  if (!confirm("Yakin hapus?")) return;

  await db.from("stats").delete().eq("id", id);
  loadStats();
}




    // INIT (jalan pertama kali)
    loadInfos();
    loadVisiMisi();
    loadFasilitas();  
    loadProgram(); 
    loadKontak();
    loadSosmed();
    loadStats();

</script>



</body>
</html>